{"payload":{"meta":{"Graph":{"@Type":"81297157","@Value":{"Guid":"(Guid)737a4d92-db5f-4377-9e3e-bedf765e79bb","ParentGuid":"(Guid)fe54070b-3512-4a2f-b490-a57c15f4bfb5","Name":"(string)AL1342_IO_Link_Master_A","Properties":{"@Type":"2c41fa04:IDictionary","@Value":[{"@Key":"(Guid)829a18f2-c514-4f6e-9634-1df173429203","@Value":{"@Type":"829a18f2","@Value":{"ParentObjects":{"@Type":"fa2ee218:IDictionary","@Value":[{"@Key":"(Guid)d9b2b2cc-ea99-4c3b-aa42-1e5c49e65b84","@Value":"(Guid)736f115b-b13a-4941-8cb4-e09f278e19ac"}]}}}}]},"TypeGuid":"(Guid)6f9dac99-8de1-4efc-8465-68ac443b7d08","EmbeddedTypeGuids":{"@Type":"[Guid]","@Value":["(Guid)a9ed5b7e-75c5-4651-af16-d2c27e98cb94","(Guid)3b83b776-fb25-43b8-99f2-3c507c9143fc"]}}},"TypeInfos":{"2c41fa04":"{2c41fa04-1834-41c1-816e-303c7aa2c05b}","81297157":"{81297157-7ec9-45ce-845e-84cab2b88ade}","829a18f2":"{829a18f2-c514-4f6e-9634-1df173429203}","fa2ee218":"{fa2ee218-a39b-4b6d-b249-49dbddbd168a}","Guid":"System.Guid","string":"System.String"}},"object":{"Graph":{"@Type":"6f9dac99","@Value":{"SpecialFunc":{"@Type":"0db3d7bb:Enum","@Value":"None"},"Implementation":{"@Type":"3b83b776","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextBlobForSerialisation":"(string)\n//  Startup by populating some information that only gets set once.\n\nIF NOT startup_ran THEN\n\tX_01.block_name := 'AL1342';\n\tX_02.block_name := 'AL1342';\n\tX_03.block_name := 'AL1342';\n\tX_04.block_name := 'AL1342';\n\tX_05.block_name := 'AL1342';\n\tX_06.block_name := 'AL1342';\n\tX_07.block_name := 'AL1342';\n\tX_08.block_name := 'AL1342';\n\n\tX_01.port_ID := 'X01';\n\tX_02.port_ID := 'X02';\n\tX_03.port_ID := 'X03';\n\tX_04.port_ID := 'X04';\n\tX_05.port_ID := 'X05';\n\tX_06.port_ID := 'X06';\n\tX_07.port_ID := 'X07';\n\tX_08.port_ID := 'X08';\n\t\n\tX_01.port_number := 1;\n\tX_02.port_number := 2;\n\tX_03.port_number := 3;\n\tX_04.port_number := 4;\n\tX_05.port_number := 5;\n\tX_06.port_number := 6;\n\tX_07.port_number := 7;\n\tX_08.port_number := 8;\n\t\n\tstartup_ran := TRUE;\nEND_IF\n\n\n//    Populate the data fields of the various input/output structs.\n\n//  Read vendor/device IDs:\n\n\tX_01.vendor_ID := AL1342_X01_vendorID;\n\tX_02.vendor_ID := AL1342_X02_vendorID;\n\tX_03.vendor_ID := AL1342_X03_vendorID;\n\tX_04.vendor_ID := AL1342_X04_vendorID;\n\tX_05.vendor_ID := AL1342_X05_vendorID;\n\tX_06.vendor_ID := AL1342_X06_vendorID;\n\tX_07.vendor_ID := AL1342_X07_vendorID;\n\tX_08.vendor_ID := AL1342_X08_vendorID;\n\t\n\tX_01.device_ID := AL1342_X01_deviceID;\n\tX_02.device_ID := AL1342_X02_deviceID;\n\tX_03.device_ID := AL1342_X03_deviceID;\n\tX_04.device_ID := AL1342_X04_deviceID;\n\tX_05.device_ID := AL1342_X05_deviceID;\n\tX_06.device_ID := AL1342_X06_deviceID;\n\tX_07.device_ID := AL1342_X07_deviceID;\n\tX_08.device_ID := AL1342_X08_deviceID;\n\n//  Read in digital input pins.  These inputs only function if the port is configured as an input.\n\n\tX_01.DI_pin_4 := AL1342_read_X01_DI_pin4;\n\tX_01.DI_pin_2 := AL1342_read_X01_DI_pin2;\n\n\tX_02.DI_pin_4 := AL1342_read_X02_DI_pin4;\n\tX_02.DI_pin_2 := AL1342_read_X02_DI_pin2;\n\t\n\tX_03.DI_pin_4 := AL1342_read_X03_DI_pin4;\n\tX_03.DI_pin_2 := AL1342_read_X03_DI_pin2;\n\t\n\tX_04.DI_pin_4 := AL1342_read_X04_DI_pin4;\n\tX_04.DI_pin_2 := AL1342_read_X04_DI_pin2;\n\t\n\tX_05.DI_pin_4 := AL1342_read_X05_DI_pin4;\n\tX_05.DI_pin_2 := AL1342_read_X05_DI_pin2;\n\t\n\tX_06.DI_pin_4 := AL1342_read_X06_DI_pin4;\n\tX_06.DI_pin_2 := AL1342_read_X06_DI_pin2;\n\t\n\tX_07.DI_pin_4 := AL1342_read_X07_DI_pin4;\n\tX_07.DI_pin_2 := AL1342_read_X07_DI_pin2;\n\t\n\tX_08.DI_pin_4 := AL1342_read_X08_DI_pin4;\n\tX_08.DI_pin_2 := AL1342_read_X08_DI_pin2;\n\t\n//  Read in short circuit messages\n\n\tX_01.short_circuit := X01_shortcircuit;\n\tX_02.short_circuit := X02_shortcircuit;\n\tX_03.short_circuit := X03_shortcircuit;\n\tX_04.short_circuit := X04_shortcircuit;\n\tX_05.short_circuit := X05_shortcircuit;\n\tX_06.short_circuit := X06_shortcircuit;\n\tX_07.short_circuit := X07_shortcircuit;\n\tX_08.short_circuit := X08_shortcircuit;\n\n//  Read in status messages (port disconnected or data corrupt)\n\n\tX_01.not_connected := AL1342_X01_not_connected;\n\tX_01.data_invalid := X01_data_invalid;\n\t\n\tX_02.not_connected := AL1342_X02_not_connected;\n\tX_02.data_invalid := X02_data_invalid;\n\t\n\tX_03.not_connected := AL1342_X03_not_connected;\n\tX_03.data_invalid := X03_data_invalid;\n\t\n\tX_04.not_connected := AL1342_X04_not_connected;\n\tX_04.data_invalid := X04_data_invalid;\n\t\n\tX_05.not_connected := X05_not_connected;\n\tX_05.data_invalid := X05_data_invalid;\n\n\tX_06.not_connected := X06_not_connected;\n\tX_06.data_invalid := X06_data_invalid;\n\t\n\tX_07.not_connected := X07_not_connected;\n\tX_07.data_invalid := X07_data_invalid;\n\t\n\tX_08.not_connected := X08_not_connected;\n\tX_08.data_invalid := X08_data_invalid;\n\t\n\t\n//  Read IO-Link process data words\n\n\tX_01.read_word_0 := AL1342_read_X01_word_0;\n\tX_01.read_word_1 := AL1342_read_X01_word_1;\n\tX_01.read_word_2 := AL1342_read_X01_word_2;\n\tX_01.read_word_3 := AL1342_read_X01_word_3;\n\tX_01.read_word_4 := AL1342_read_X01_word_4;\n\tX_01.read_word_5 := AL1342_read_X01_word_5;\n\tX_01.read_word_6 := AL1342_read_X01_word_6;\n\n\tX_02.read_word_0 := AL1342_read_X02_word_0;\n\tX_02.read_word_1 := AL1342_read_X02_word_1;\n\tX_02.read_word_2 := AL1342_read_X02_word_2;\n\tX_02.read_word_3 := AL1342_read_X02_word_3;\n\tX_02.read_word_4 := AL1342_read_X02_word_4;\n\tX_02.read_word_5 := AL1342_read_X02_word_5;\n\tX_02.read_word_6 := AL1342_read_X02_word_6;\n\n\tX_03.read_word_0 := AL1342_read_X03_word_0;\n\tX_03.read_word_1 := AL1342_read_X03_word_1;\n\tX_03.read_word_2 := AL1342_read_X03_word_2;\n\tX_03.read_word_3 := AL1342_read_X03_word_3;\n\tX_03.read_word_4 := AL1342_read_X03_word_4;\n\tX_03.read_word_5 := AL1342_read_X03_word_5;\n\tX_03.read_word_6 := AL1342_read_X03_word_6;\n\t\n\tX_04.read_word_0 := AL1342_read_X04_word_0;\n\tX_04.read_word_1 := AL1342_read_X04_word_1;\n\tX_04.read_word_2 := AL1342_read_X04_word_2;\n\tX_04.read_word_3 := AL1342_read_X04_word_3;\n\tX_04.read_word_4 := AL1342_read_X04_word_4;\n\tX_04.read_word_5 := AL1342_read_X04_word_5;\n\tX_04.read_word_6 := AL1342_read_X04_word_6;\n\t\n\tX_05.read_word_0 := AL1342_read_X05_word_0;\n\tX_05.read_word_1 := AL1342_read_X05_word_1;\n\tX_05.read_word_2 := AL1342_read_X05_word_2;\n\tX_05.read_word_3 := AL1342_read_X05_word_3;\n\tX_05.read_word_4 := AL1342_read_X05_word_4;\n\tX_05.read_word_5 := AL1342_read_X05_word_5;\n\tX_05.read_word_6 := AL1342_read_X05_word_6;\n\t\n\tX_06.read_word_0 := AL1342_read_X06_word_0;\n\tX_06.read_word_1 := AL1342_read_X06_word_1;\n\tX_06.read_word_2 := AL1342_read_X06_word_2;\n\tX_06.read_word_3 := AL1342_read_X06_word_3;\n\tX_06.read_word_4 := AL1342_read_X06_word_4;\n\tX_06.read_word_5 := AL1342_read_X06_word_5;\n\tX_06.read_word_6 := AL1342_read_X06_word_6;\n\t\n\tX_07.read_word_0 := AL1342_read_X07_word_0;\n\tX_07.read_word_1 := AL1342_read_X07_word_1;\n\tX_07.read_word_2 := AL1342_read_X07_word_2;\n\tX_07.read_word_3 := AL1342_read_X07_word_3;\n\tX_07.read_word_4 := AL1342_read_X07_word_4;\n\tX_07.read_word_5 := AL1342_read_X07_word_5;\n\tX_07.read_word_6 := AL1342_read_X07_word_6;\n\n\tX_08.read_word_0 := AL1342_read_X08_word_0;\n\tX_08.read_word_1 := AL1342_read_X08_word_1;\n\tX_08.read_word_2 := AL1342_read_X08_word_2;\n\tX_08.read_word_3 := AL1342_read_X08_word_3;\n\tX_08.read_word_4 := AL1342_read_X08_word_4;\n\tX_08.read_word_5 := AL1342_read_X08_word_5;\n\tX_08.read_word_6 := AL1342_read_X08_word_6;\n\n\n//   WRITE data out to the IO-Link port\n\t\n\tAL1342_write_X01_word_0 := X_01.write_word_0;\n\tAL1342_write_X01_word_1 := X_01.write_word_1;\n\tAL1342_write_X01_word_2 := X_01.write_word_2;\n\tAL1342_write_X01_word_3 := X_01.write_word_3;\n\n\tAL1342_write_X02_word_0 := X_02.write_word_0;\n\tAL1342_write_X02_word_1 := X_02.write_word_1;\n\tAL1342_write_X02_word_2 := X_02.write_word_2;\n\tAL1342_write_X02_word_3 := X_02.write_word_3;\n\t\n\tAL1342_write_X03_word_0 := X_03.write_word_0;\n\tAL1342_write_X03_word_1 := X_03.write_word_1;\n\tAL1342_write_X03_word_2 := X_03.write_word_2;\n\tAL1342_write_X03_word_3 := X_03.write_word_3;\n\t\n\tAL1342_write_X04_word_0 := X_04.write_word_0;\n\tAL1342_write_X04_word_1 := X_04.write_word_1;\n\tAL1342_write_X04_word_2 := X_04.write_word_2;\n\tAL1342_write_X04_word_3 := X_04.write_word_3;\n\t\n\tAL1342_write_X05_word_0 := X_05.write_word_0;\n\tAL1342_write_X05_word_1 := X_05.write_word_1;\n\tAL1342_write_X05_word_2 := X_05.write_word_2;\n\tAL1342_write_X05_word_3 := X_05.write_word_3;\n\t\n\tAL1342_write_X06_word_0 := X_06.write_word_0;\n\tAL1342_write_X06_word_1 := X_06.write_word_1;\n\tAL1342_write_X06_word_2 := X_06.write_word_2;\n\tAL1342_write_X06_word_3 := X_06.write_word_3;\n\t\n\tAL1342_write_X07_word_0 := X_07.write_word_0;\n\tAL1342_write_X07_word_1 := X_07.write_word_1;\n\tAL1342_write_X07_word_2 := X_07.write_word_2;\n\tAL1342_write_X07_word_3 := X_07.write_word_3;\n\t\n\tAL1342_write_X08_word_0 := X_08.write_word_0;\n\tAL1342_write_X08_word_1 := X_08.write_word_1;\n\tAL1342_write_X08_word_2 := X_08.write_word_2;\n\tAL1342_write_X08_word_3 := X_08.write_word_3;\n\t\n\t\n\t//  Write digital outputs (1 DO per port, only available if the port is configured as an output.)\n\t\n\tAL1342_write_X01_pin4 := X_01.DO_pin_4;\n\tAL1342_write_X02_pin4 := X_02.DO_pin_4;\n\tAL1342_write_X03_pin4 := X_03.DO_pin_4;\n\tAL1342_write_X04_pin4 := X_04.DO_pin_4;\n\tAL1342_write_X05_pin4 := X_05.DO_pin_4;\n\tAL1342_write_X06_pin4 := X_06.DO_pin_4;\n\tAL1342_write_X07_pin4 := X_07.DO_pin_4;\n\tAL1342_write_X08_pin4 := X_08.DO_pin_4;\n\t\n\t//  Set master block disconnect status\n\t\n\tX_01.master_disconnected := AL1342.ComState <> 2;\n\tX_02.master_disconnected := AL1342.ComState <> 2;\n\tX_03.master_disconnected := AL1342.ComState <> 2;\n\tX_04.master_disconnected := AL1342.ComState <> 2;\n\tX_05.master_disconnected := AL1342.ComState <> 2;\n\tX_06.master_disconnected := AL1342.ComState <> 2;\n\tX_07.master_disconnected := AL1342.ComState <> 2;\n\tX_08.master_disconnected := AL1342.ComState <> 2;\n\t\n\t\n//    WARNINGS       WARNINGS     WARNINGS\n\n//  Master block disconnected warning\n\ndisconnected_master_warning (OK :=\n\tAL1342.ComState = 2,\t\t\t\t\t\t\t\t//  Connection state 2 is connected and communicating normally, so if we see that, we're good.\n\twarning_message := disconnected_master_message);","LineInfoPersistence":"(string)737a4d92-db5f-4377-9e3e-bedf765e79bb_Impl_LineIds"}}}},"Interface":{"@Type":"a9ed5b7e","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextBlobForSerialisation":"(string)//  This program creates an abstraction layer for an AL1342 IO-Link master block (or similar.)   This layer allows software to be easily reconfigured in\n//  CFC and other 'top level' programs by simply switching a couple input/output variables.\n\n\nPROGRAM AL1342_IO_Link_Master_A\nVAR\n\tstartup_ran: BOOL;\n\n\n\t//   WARNINGS\n\t\n\t//   Disconnected master block Warning\n\n\tdisconnected_master_message: warning_message := (red := TRUE, pop_up_everywhere := TRUE, detail_warning_visu := 'W30', short_Description := 'Master block disconnected');\n\t\n\tdisconnected_master_warning: create_warning;\n\t\t\n\n\t\t\nEND_VAR\n\nVAR_OUTPUT\n\tX_null: IO_link_port;\t//  A 'dead' port; reading and writing to it has no effect.  This is used for objects that have an in/out IO-Link port (so they need something connected to avoid angering the compiler) but aren't using that port for the current application.\n\tX_01: IO_link_port;\t\t//  Data from port X-01 on block AL1342 (first or only Master.)\n\tX_02: IO_link_port;\t\t//  Data from port X-02 on block AL1342 (first or only Master.)\n\tX_03: IO_link_port;\t\t//  Data from port X-03 on block AL1342 (first or only Master.)\n\tX_04: IO_link_port;\t\t//  Data from port X-04 on block AL1342 (first or only Master.)\n\tX_05: IO_link_port;\t\t//  Data from port X-05 on block AL1342 (first or only Master.)\n\tX_06: IO_link_port;\t\t//  Data from port X-06 on block AL1342 (first or only Master.)\n\tX_07: IO_link_port;\t\t//  Data from port X-07 on block AL1342 (first or only Master.)\n\tX_08: IO_link_port;\t\t//  Data from port X-08 on block AL1342 (first or only Master.)\t\nEND_VAR\n\nVAR_IN_OUT\n\t\nEND_VAR","LineInfoPersistence":"(string)737a4d92-db5f-4377-9e3e-bedf765e79bb_Decl_LineIds"}}}},"UniqueIdGenerator":"(string)1376","POULevel":{"@Type":"8e575c5b:Enum","@Value":"Standard"},"ChildObjectGuids":{"@Type":"ArrayList:IList","@Value":[]},"AddAttributeSubsequent":"(bool)False"}},"TypeInfos":{"0db3d7bb":"{0db3d7bb-cde0-4416-9a7b-ce49a0124323}","3b83b776":"{3b83b776-fb25-43b8-99f2-3c507c9143fc}","6f9dac99":"{6f9dac99-8de1-4efc-8465-68ac443b7d08}","8e575c5b":"{8e575c5b-1d37-49c6-941b-5c0ec7874787}","a9ed5b7e":"{a9ed5b7e-75c5-4651-af16-d2c27e98cb94}","ArrayList":"System.Collections.ArrayList","bool":"System.Boolean","f3878285":"{f3878285-8e4f-490b-bb1b-9acbb7eb04db}","string":"System.String"}}},"FormatVersion":"1.0"}